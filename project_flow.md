# KDOCS_SYNTH 프로젝트 개발 히스토리 📋

> **참고**: 이 문서는 프로젝트 초기 계획 단계의 기록입니다. 최신 사용법은 [README.md](README.md)를 참조하세요.

## ✅ 완료된 작업들

### 1. 환경 설정
* **Python 환경** (`python>=3.9`) ✅
* **의존성 패키지**: `opencv-python`, `Pillow`, `numpy`, `faker`, `PyYAML` ✅

### 2. 프로젝트 구조
```
kdocs_synth/
├─ assets/           # 리소스 파일
│    ├─ fonts/       # KoPub World Batang Medium 폰트
│    └─ templates/   # GA, JU 템플릿 이미지  
├─ configs/          # 레이아웃 YAML 설정
├─ src/              # 핵심 소스 코드
├─ outputs/          # 생성 결과물
└─ experiments/      # 폰트/한자 테스트
```

### 3. 기본 템플릿 구축 ✅
* **JU 템플릿**: 주민등록등본 3종 (등본1, 등본2, 등본3) ✅
* **GA 템플릿**: 가족관계증명서 2종 (가족1, 가족2) ✅  

### 4. 레이아웃 추출 도구 ✅
* **GUI 좌표 추출**: `src/extract_layout.py` 구현 ✅
* **YAML 설정**: `configs/*_layout.yaml` 생성 ✅
* **필드 박스**: 픽셀 단위 정밀 좌표 설정 ✅

### 5. 데이터 생성 시스템 ✅
* **가짜 데이터 생성**: `src/data_factory.py` 구현 ✅
* **개인정보 보호**: 100% 가짜 이름, 날짜, 주민번호 ✅
* **한자명 생성**: 의미있는 한자 조합 시스템 ✅

### 6. 기본 템플릿 렌더링 ✅
* **JU/GA 템플릿**: `src/templates_juga.py` 기본 구현 ✅
* **폰트 적용**: KoPub World Batang Medium ✅
* **단일 문서 생성**: 테스트 이미지 생성 완료 ✅

---

## 🚧 진행 중인 작업들

### 7. 개선된 합성 시스템 🔄
* **주민번호 공개 방식 통일**: GA에도 OPEN/CLOSE 적용 🔄
* **파일명 규칙 변경**: 새로운 네이밍 규칙 적용 🔄
* **회전 프로그램 분리**: 별도 스크립트로 분리 🔄

### 8. 대량 데이터셋 생성 🔄
* **400장 문서 생성**: 회전 전 기준 🔄
* **파일명 규칙**: `{문서구분}-{문서종류}-{주민번호공개여부}-{각도}-{순차번호5자리}` 🔄
* **메타데이터**: 완전한 매니페스트 파일 생성 🔄

---

## 📋 남은 작업들

### 9. 회전 처리 시스템 📝
* **별도 회전 프로그램**: OPEN/CLOSE/TEMP 모든 문서 처리 📝
* **3방향 회전**: L(90도), R(270도), 180도 📝
* **파일명 업데이트**: 각도 정보 추가 📝

### 10. TEMP 문서 시스템 📝
* **오프라인 TEMP 문서**: 별도 제작하여 제공 📝
* **TEMP 문서 통합**: 회전 프로그램에서 처리 📝
* **확장 가능한 구조**: 향후 추가 문서 유형 지원 📝

### 11. 최종 정리 및 문서화 📝
* **README.md** 업데이트 📝
* **사용법 가이드** 작성 📝
* **품질 검증** 시스템 구축 📝

---

## 🎯 최종 목표: AI 문서 분류 모델용 데이터셋 생성

### 분류 클래스 (총 8개)
- **가족관계증명서**: GA-0, GA-L, GA-R, GA-180
- **주민등록등본**: JU-0, JU-L, JU-R, JU-180

### 데이터셋 구성

#### 가족관계증명서 (GA): 160장 (회전 전)
- **2개 템플릿** × **4개 가족구성** × **2개 주민번호방식** × **10장씩**:
  - 가족1: 본인,부,모,자녀0명 (20장) + 본인,부,모,배우자,자녀1명 (20장) + 본인,부,모,배우자,자녀2명 (20장) + 본인,부,모,배우자,자녀3명 (20장) = 80장
  - 가족2: 본인,부,모,자녀0명 (20장) + 본인,부,모,배우자,자녀1명 (20장) + 본인,부,모,배우자,자녀2명 (20장) + 본인,부,모,배우자,자녀3명 (20장) = 80장

#### 주민등록등본 (JU): 240장 (회전 전)
- **3개 등본** × **4개 바코드조합** × **2개 주민번호방식** × **10장씩**:
  - 등본1: 상단O하단O (20장) + 상단O하단X (20장) + 상단X하단O (20장) + 상단X하단X (20장) = 80장
  - 등본2: 상단O하단O (20장) + 상단O하단X (20장) + 상단X하단O (20장) + 상단X하단X (20장) = 80장
  - 등본3: 상단O하단O (20장) + 상단O하단X (20장) + 상단X하단O (20장) + 상단X하단X (20장) = 80장

### 총 학습 이미지: **400장 (회전 전)**

### 파일명 규칙
```
GA-1-OPEN-0-00001.jpg    # 가족관계증명서 가족1, 주민번호공개, 정상
GA-1-CLOSE-0-00001.jpg   # 가족관계증명서 가족1, 주민번호미공개, 정상
JU-1-OPEN-0-00001.jpg    # 주민등록등본 등본1, 주민번호공개, 정상
JU-1-CLOSE-0-00001.jpg   # 주민등록등본 등본1, 주민번호미공개, 정상
```
**인덱스는 각 문서종류별로 00001부터 시작**

---

## 🎯 현재 상태: 개선 작업 진행 중

**주민등록등본**과 **가족관계증명서** 각각 기본 합성이 완성된 상태에서, 새로운 요구사항에 맞춰 개선 작업을 진행 중입니다.
