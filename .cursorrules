# Cursor AI 시스템 룰

## 🎯 우선순위 & 기본 원칙
### 1. 룰 우선순위
1) 본 시스템 룰  
2) 사용자 프롬프트  
3) 코드베이스 주석·문서

### 2. 기본 원칙
- 사용자가 요청한 작업만 수행하되, **보안·버그·심각한 성능 이슈** 발견 시 예외적으로 알림·수정 제안  
- 명확·간결한 응답, 불필요한 제안·중복 설명 금지  

---

## 📁 파일 및 폴더 관리
### 1. 작업 범위
- **작업 루트**: `{{TEAM_FOLDER}}` 폴더 내에서만 열람·생성·수정

### 2. 파일 크기 제한
| 유형 | 기준 1 | 기준 2 | 초과 시 조치 |
|------|--------|--------|--------------|
| Markdown | ≤ 18 KB | ≤ 500 줄 | 2–3개 분할(`*_partN.md`) |
| Source Code | ≤ 30 KB | ≤ 800 줄 | 2–3개 분할(`*_partN.ext`) |

### 3. 불필요 파일
- 지정 루트 외 파일 **읽기·수정 금지**  
- 필요 최소한의 파일만 유지  

---

## 📝 문서 관리
### 1. `project_plan.md`
- 모든 작업 진행 시마다 **실시간 업데이트**  
- 고객 요청·완료 항목·외부 라이선스 사용 이유 기록

### 2. 정보 정리
- 사용자 요청 정보 구조화  
- 관련 스크린샷은 `/screenshot` 폴더 저장  

---

## 🧑‍💻 코드 규약
### 1. 품질 기준
- 가독성, 명확한 변수·함수명, 적절한 주석  
- 기능별 모듈화·재사용성 고려  

### 2. 커밋 & CI
- **Conventional Commits** 형식(`feat:`, `fix:`, `docs:` …)  
- Push 전 ESLint / Flake8 / Prettier & 모든 테스트 통과 필수  
- GitHub Actions `ci.yml`에 unit + integration + E2E 포함  

### 3. 보안 가이드
- API Key·토큰·개인정보 노출 **금지**  
- Deprecated·비안전 라이브러리 사용 금지  

---

## 🧪 테스트 및 검증
### 1. MCP 도구
- 설치: `choco install mcp-cli` (Windows)  
- 실행: `mcp run --browser edge`  
- 메뉴별 단계적 테스트, 문제 발견 시 즉시 보고  

### 2. 단계별 검증
- 기능 단위로 순차 테스트  
- 오류 발생 시 원인 분석 후 수정

### 3. 터미널 명령어 실행 규칙
- **사용자 승인 필수**: 모든 터미널 명령어 실행 전 사용자 승인 받기
- **PowerShell 환경**: Windows PowerShell 사용 환경 고려
- **명령어 중단**: 사용자가 Ctrl+C 또는 중단 요청 시 즉시 중단
- **백그라운드 실행**: 긴 프로세스는 사용자에게 먼저 확인 후 실행
- **테스트 실행**: 사용자가 요청한 경우에만 테스트 명령어 실행
- **명령어 설명**: 실행할 명령어와 목적을 먼저 설명 후 실행  

---

## 🔄 작업 프로세스
1. **요청 분석**: 사용자 요청 파악 → 작업 범위 & 우선순위 설정  
2. **작업 수행**: 지정 폴더 내 변경, 파일/줄 제한 준수  
3. **문서 업데이트**: `project_plan.md` 실시간 기록  
4. **검증**: MCP 및 자동화 테스트 통과 확인  
5. **리뷰 & 완료**: 완료 기준 충족 시 보고  

---

## 📊 품질 관리
- **코드**: 800 줄·30 KB 이하, 테스트 100 % 통과  
- **문서**: 18 KB 이하, 핵심 정보만 포함  
- **테스트**: 모든 메뉴·기능 검증, 버그 0건 유지  

---

## 🚫 금지 사항
- `{{TEAM_FOLDER}}` 외 작업  
- 18 KB 초과 MD / 800 줄·30 KB 초과 코드 파일 생성  
- MCP 없이 임의 테스트  
- 보안 정보 노출
- **사용자 승인 없는 터미널 명령어 실행**
- **PowerShell 환경 무시한 명령어 사용**  

---

## ✅ 완료 기준
- 요청 기능 완전 구현 & 모든 테스트 통과  
- 파일 크기 제한 준수  
- `project_plan.md` 최신 상태  

---

**마지막 업데이트**: 2025-07-31  
**적용 범위**: 모든 Cursor AI 작업
